# Dodge Manager Pro

Dodge Manager Pro は、ドッジボールチームの管理、試合のリアルタイム記録、詳細なデータ分析、および帳票作成を一元的に行うための高機能なFlutterアプリケーションです。

## 📋 機能一覧 (Features)

### 1. チーム・選手管理 (Team Management)
* **複数チーム管理**: 1つのアプリで複数のチーム（例: 男子A、女子B）を切り替えて管理可能。
* **選手名簿**: 背番号、選手名（コートネーム/本名）、学年などを登録・編集。
* **対戦相手・会場管理**: よく使う対戦相手や会場をマスターデータとして登録し、試合設定時に呼び出し可能。

### 2. 試合記録 (Match Recording)
* **リアルタイム記録**: 試合中のプレー（アタック、キャッチ等）をタップ操作で素早く記録。
* **詳細アクション**: プレーの結果（成功/失敗）や詳細（コース、ジャンプ等）も記録可能。
* **試合タイマー**: 試合時間の計測、残り時間警告機能。
* **ログ編集**: 間違った記録をその場で修正・削除する機能。
* **試合結果入力**: 勝敗、スコア、Vポイント（延長戦）の結果記録。

### 3. データ分析 (Data Analysis)
* **期間集計**: 日別、月別、年別、または試合単位でのスタッツ集計（成功率、回数など）。
* **フィルタリング**: 試合種別（大会、練習試合など）によるデータ絞り込み。
* **ログ閲覧**: 時系列でのプレーログ確認。
* **詳細分析**: 選手ごとのプレー詳細（コース分析など）の可視化。

### 4. 帳票出力 (PDF Export)
* **成績集計表**: 選手ごとの成績一覧をA4横向きPDFで出力。
* **試合ログ**: 試合の流れを詳細な時系列リストとしてPDF出力（2段組み対応）。
* **選手詳細**: 各選手のプレー傾向グラフなどを画像化し、まとめてPDFレポートとして出力。

### 5. 設定・カスタマイズ (Settings)
* **アクション定義**: 記録ボタンの配置、項目名、「成功/失敗」判定の有無を自由にカスタマイズ可能。
* **データ管理**: データベースのバックアップ（.dbファイル出力）と復元。
* **一括置換**: アクション名変更時に、過去のログデータも整合性を保って一括置換するマイグレーション機能。

---

## 📂 ディレクトリ構造 (Folder Structure)

本プロジェクトは **Feature-first** なアーキテクチャを採用しており、機能ごとにディレクトリが分割されています。各機能ディレクトリ内は、Application (Controller), Data (Repository/DAO), Domain (Model), Presentation (UI) の層に分かれています。

```text
lib/
├── core/                       # アプリ全体で共有されるコア機能
│   ├── constants/              # 定数定義
│   ├── database/               # SQLiteデータベース接続設定
│   └── theme/                  # アプリのテーマ設定 (色、フォント等)
│
├── features/                   # 機能ごとのモジュール
│   ├── analysis/               # 【分析機能】
│   │   ├── application/        # 集計ロジック、コントローラー
│   │   ├── data/               # PDF生成処理、ヘルパー
│   │   ├── domain/             # 集計用データモデル
│   │   └── presentation/       # 分析画面、グラフ、各種タブUI
│   │
│   ├── game_record/            # 【試合記録機能】
│   │   ├── application/        # タイマー管理、ログ記録ロジック
│   │   ├── data/               # 試合データの保存・読み込み (DAO)
│   │   ├── domain/             # 試合・ログのデータモデル
│   │   └── presentation/       # 記録画面、操作パネル、タイマーUI
│   │
│   ├── match_info/             # 【試合情報機能】
│   │   └── presentation/       # 試合履歴リスト画面
│   │
│   ├── settings/               # 【設定機能】
│   │   ├── data/               # 設定保存、バックアップ処理
│   │   ├── domain/             # 設定データのモデル定義
│   │   └── presentation/       # アクション設定、環境設定画面
│   │
│   └── team_mgmt/              # 【チーム管理機能】
│       ├── application/        # チーム状態管理
│       ├── data/               # チーム・選手データのDB操作
│       ├── domain/             # チーム・選手モデル
│       └── presentation/       # チーム編集、選手一覧画面
│
├── main.dart                   # アプリのエントリーポイント
└── root_screen.dart            # アプリのルート画面（ナビゲーション管理）